<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        
        <!-- Process Scheduled Campaigns (every 5 minutes) -->
        <record id="ir_cron_process_scheduled_campaigns" model="ir.cron">
            <field name="name">SMS: Process Scheduled Campaigns</field>
            <field name="model_id" ref="model_sms_campaign"/>
            <field name="state">code</field>
            <field name="code">model.cron_process_scheduled_campaigns()</field>
            <field name="interval_number">5</field>
            <field name="interval_type">minutes</field>
            <field name="numbercall">-1</field>
            <field name="active">True</field>
            <field name="doall">False</field>
            <field name="priority">5</field>
        </record>

        <!-- Retry Failed Recipients (daily) -->
        <record id="ir_cron_retry_failed_recipients" model="ir.cron">
            <field name="name">SMS: Retry Failed Recipients</field>
            <field name="model_id" ref="model_sms_campaign"/>
            <field name="state">code</field>
            <field name="code">model.cron_retry_failed_recipients()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="nextcall" eval="(DateTime.now() + timedelta(days=1)).replace(hour=2, minute=0, second=0)"/>
            <field name="numbercall">-1</field>
            <field name="active">True</field>
            <field name="doall">False</field>
            <field name="priority">10</field>
        </record>

        <!-- Send Low Credit Email (daily at 23:30) -->
        <record id="ir_cron_send_low_credit_email" model="ir.cron">
            <field name="name">SMS: Send Low Credit Email</field>
            <field name="model_id" ref="model_sms_campaign"/>
            <field name="state">code</field>
            <field name="code">model.cron_send_low_credit_email()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="nextcall" eval="(DateTime.now() + timedelta(days=1)).replace(hour=23, minute=30, second=0)"/>
            <field name="numbercall">-1</field>
            <field name="active">True</field>
            <field name="doall">False</field>
            <field name="priority">5</field>
        </record>

        <!-- Export Transactions to KFS5 (monthly on last day at 23:30) -->
        <record id="ir_cron_export_kfs5" model="ir.cron">
            <field name="name">SMS: Export to KFS5</field>
            <field name="model_id" ref="model_sms_campaign"/>
            <field name="state">code</field>
            <field name="code">model.cron_export_to_kfs5()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">months</field>
            <field name="nextcall" eval="(DateTime.now().replace(day=1) + timedelta(days=32)).replace(day=1, hour=23, minute=30, second=0) - timedelta(days=1)"/>
            <field name="numbercall">-1</field>
            <field name="active">False</field>
            <field name="doall">False</field>
            <field name="priority">15</field>
        </record>

    </data>
</odoo>